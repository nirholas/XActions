# Track 10 — Internationalization (I18N)

> Translate documentation and user-facing strings to make XActions accessible to non-English developers worldwide. Competing projects like twikit (4k stars, Japan-based) and bisguzar/twitter-scraper (Go, global community) prove that multi-language support directly correlates with international adoption. This track adds translations for the top 5 non-English developer communities: Japanese (ja), Chinese Simplified (zh), Spanish (es), Korean (ko), and Portuguese (pt-BR).

---

## Research Before Starting

```
README.md                            — Main English README (structure, sections)
docs/                                — All English documentation files
dashboard/                           — HTML pages (user-facing text)
src/cli/index.js                     — CLI user-facing strings (help, messages)
src/mcp/server.js                    — MCP tool descriptions
package.json                         — Package description
CONTRIBUTING.md                      — Contributing guidelines
skills/                              — 31 skill files with descriptions
```

Study competitor i18n implementations:
- d60/twikit — README available in English + Japanese
- nicepkg/gpt-runner — README_CN.md pattern for Chinese
- discordjs/discord.js — Uses separate locale folders

### Approach

1. **Documentation-first** — Translate README, quickstart, and key docs
2. **CLI messages** — Extract strings to locale files for CLI output
3. **Dashboard** — Add language switcher with translated UI strings
4. **Structured layout** — i18n/ directory with per-language folders

---

## Architecture

```
i18n/
  README.md              <- i18n contributing guide (how to add a new language)
  languages.json         <- Registry of supported languages and completion %
  ja/                    <- Japanese
    README.md
    CONTRIBUTING.md
    docs/
      getting-started.md
      cli-reference.md
      api-reference.md
      python-sdk.md
    cli/
      messages.json
    dashboard/
      strings.json
  zh/                    <- Chinese Simplified
    README.md
    CONTRIBUTING.md
    docs/
      getting-started.md
      cli-reference.md
      api-reference.md
    cli/
      messages.json
    dashboard/
      strings.json
  es/                    <- Spanish
    README.md
    docs/
      getting-started.md
    cli/
      messages.json
  ko/                    <- Korean
    README.md
    docs/
      getting-started.md
    cli/
      messages.json
  pt-BR/                 <- Portuguese (Brazil)
    README.md
    docs/
      getting-started.md
    cli/
      messages.json
src/
  i18n/
    index.js             <- i18n runtime module
    locales/
      en.json            <- English strings (source of truth)
      ja.json
      zh.json
      es.json
      ko.json
      pt-BR.json
dashboard/
  js/
    i18n.js              <- Browser-side i18n loader
```

---

## Prompts

### Prompt 1: I18N Infrastructure Setup

Create the i18n infrastructure.

Create i18n/README.md with:
- Supported languages table (en, ja, zh, es, ko, pt-BR) showing completion status for README, Docs, CLI, Dashboard
- "How to Add a New Language" step-by-step guide (create folder, copy template, translate, add CLI strings, register in languages.json, submit PR)
- Translation guidelines: what NOT to translate (code blocks, package names, CLI commands, technical terms, URLs) and what TO translate (prose, headers, feature descriptions, error messages, code comments)

Create i18n/languages.json with:
- languages array: each entry has code, name, nativeName, completion percentage
- defaultLanguage: "en"
- translationKeys object listing which categories have translations

### Prompt 2: English CLI String Extraction

Extract all user-facing strings from src/cli/index.js into a structured JSON locale file.

Create src/i18n/index.js:
- setLocale(locale) function — loads locale JSON file, falls back to English
- t(key, params) function — string lookup with {placeholder} replacement
- getLocale() / getSupportedLocales() functions
- Auto-initialize with English

Create src/i18n/locales/en.json with 60+ keys covering:
- cli.login.* (success, failed, prompts)
- cli.profile.* (header, bio, stats, notFound)
- cli.search.* (header, result, stats, noResults)
- cli.tweet.* (posted, deleted, notFound)
- cli.followers.* (header, item, count)
- cli.unfollow.* (progress, success, complete)
- cli.error.* (notLoggedIn, rateLimited, network, unknown)
- cli.common.* (loading, done, cancelled)

Use dot-notation namespacing. Go through every console.log, ora spinner text, and chalk output in src/cli/index.js.

### Prompt 3: Japanese README Translation

Create i18n/ja/README.md — full Japanese translation of the root README.md.

At the top: language switcher with links to all translations.

Translation guidelines:
- Technical terms: scraper->スクレイパー, browser scripts->ブラウザスクリプト, CLI->CLI, MCP server->MCPサーバー, rate limiting->レート制限, authentication->認証, cookie->Cookie, API->API, dashboard->ダッシュボード
- Style: Formal (ですます調) for documentation
- All code blocks untouched, all links preserved, all badge URLs unchanged
- Include all sections from the English README

### Prompt 4: Japanese CLI Messages

Create src/i18n/locales/ja.json — Japanese translation of all CLI strings.

Translate every key from en.json. Examples:
- cli.login.success: "OK @{username} としてログインしました"
- cli.profile.stats: "フォロワー {followers}人 / フォロー {following}人 / ツイート {tweets}件"
- cli.error.rateLimited: "レート制限中。{seconds}秒後に再試行します..."
- cli.common.loading: "読み込み中..."

All 60+ keys translated. Emojis preserved. Placeholders {variable} unchanged. Natural Japanese phrasing.

### Prompt 5: Japanese Documentation

Create translated documentation for Japanese:

i18n/ja/docs/getting-started.md: Full quickstart guide translation (installation, first run, cookie setup, first scrape). Code blocks in English, comments translated.

i18n/ja/docs/cli-reference.md: CLI command reference with descriptions in Japanese.

i18n/ja/docs/api-reference.md: Node.js library API reference with Japanese descriptions.

i18n/ja/CONTRIBUTING.md: Contributing guide translation.

All files include navigation header with language links. Use ですます調 (polite form).

### Prompt 6: Chinese Simplified README and Docs

Create i18n/zh/README.md — Chinese Simplified translation.

Technical terms: scraper->爬虫/抓取工具, browser scripts->浏览器脚本, rate limiting->速率限制, authentication->认证/身份验证, cookie->Cookie, dashboard->仪表板/控制面板.

Tagline: "完整的X/Twitter自动化工具包 — 爬虫、AI代理MCP服务器（Claude/GPT）、CLI、浏览器脚本。无需API费用。开源。"

Create i18n/zh/docs/getting-started.md: Full quickstart guide.

Create src/i18n/locales/zh.json: All 60+ CLI string keys translated to Simplified Chinese.

Create i18n/zh/CONTRIBUTING.md: Translated contributing guide.

### Prompt 7: Spanish README and CLI Messages

Create i18n/es/README.md — Spanish translation.

Technical terms: scraper->scraper (keep), browser scripts->scripts de navegador, rate limiting->limitacion de tasa, authentication->autenticacion, dashboard->panel de control, followers->seguidores, following->siguiendo.

Tagline: "El kit de herramientas completo para automatizacion de X/Twitter — Scrapers, servidor MCP para agentes de IA (Claude/GPT), CLI, scripts de navegador. Sin costes de API. Codigo abierto."

Create src/i18n/locales/es.json: All 60+ keys. Use neutral Latin American Spanish.

Create i18n/es/docs/getting-started.md: Spanish quickstart guide.

### Prompt 8: Korean README and CLI Messages

Create i18n/ko/README.md — Korean translation.

Technical terms: scraper->스크래퍼, browser scripts->브라우저 스크립트, rate limiting->속도 제한, authentication->인증, dashboard->대시보드, followers->팔로워, following->팔로잉.

Tagline: "완벽한 X/Twitter 자동화 도구 — 스크래퍼, AI 에이전트용 MCP 서버(Claude/GPT), CLI, 브라우저 스크립트. API 비용 없음. 오픈소스."

Create src/i18n/locales/ko.json: All 60+ keys translated. Use 해요체 style.

Create i18n/ko/docs/getting-started.md: Korean quickstart guide.

### Prompt 9: Portuguese (Brazil) README and CLI Messages

Create i18n/pt-BR/README.md — Brazilian Portuguese translation.

Technical terms: scraper->scraper (keep), browser scripts->scripts de navegador, rate limiting->limitacao de taxa, authentication->autenticacao, dashboard->painel de controle, followers->seguidores, following->seguindo.

Tagline: "O kit completo de automacao X/Twitter — Scrapers, servidor MCP para agentes de IA (Claude/GPT), CLI, scripts de navegador. Sem taxas de API. Codigo aberto."

Create src/i18n/locales/pt-BR.json: All 60+ keys. Use Brazilian Portuguese conventions.

Create i18n/pt-BR/docs/getting-started.md: Portuguese quickstart guide.

### Prompt 10: Dashboard I18N Support

Create dashboard/js/i18n.js:

DASHBOARD_STRINGS object with en, ja, zh translations for 40+ dashboard UI keys covering:
- nav.* (home, analytics, automations, settings, docs)
- header.* (title, subtitle)
- login.* (title, username, password, submit)
- dashboard.* (followers, following, tweets, engagement)
- automation.* (start, stop, running, stopped)
- error.* (network, auth)

DashboardI18n class with:
- detectLocale(): check localStorage, then navigator.language, fallback to en
- t(key): translate with fallback chain
- setLocale(locale): save to localStorage, apply
- applyToDOM(): update all elements with data-i18n and data-i18n-placeholder attributes

Language switcher component for dashboard pages.

### Prompt 11: CLI I18N Integration

Update src/cli/index.js to use the i18n system.

- Import { t, setLocale, getSupportedLocales } from '../i18n/index.js'
- Add --lang option to root program
- Add preAction hook to set locale from --lang flag
- Add 'lang' command to set/show language
- Replace ALL hardcoded user-facing strings with t() calls
- Support XACTIONS_LANG environment variable
- Test: XACTIONS_LANG=ja xactions --help

### Prompt 12: Root README Language Links

Update README.md:
- Add language switcher after title/badges: English | 日本語 | 简体中文 | Espanol | 한국어 | Portugues
- Add Internationalization section with completion table
- Show CLI language flag usage
- Link to i18n/README.md for contribution guidelines

No other changes to README.md.

### Prompt 13: MCP Tool Descriptions I18N

Add i18n support for MCP server tool descriptions.

Create src/i18n/mcp-descriptions.json with en, ja, zh translations for all 140+ tool descriptions.

Update src/mcp/server.js to:
- Check XACTIONS_LANG environment variable
- Load translated descriptions
- Fall back to English for missing keys
- Tool names always English, only descriptions translated

### Prompt 14: I18N Tests

Create tests/i18n.test.js with vitest:

10 tests:
1. test_en_locale_loads — setLocale('en'), all keys return non-empty strings
2. test_ja_locale_loads — setLocale('ja'), all en.json keys exist in ja.json
3. test_zh_locale_loads — same coverage check for Chinese
4. test_fallback_to_english — setLocale('xx') falls back gracefully
5. test_t_function_replacement — {placeholder} replacement works correctly
6. test_all_locales_have_same_keys — every locale has same keys as en.json
7. test_no_html_in_translations — security check for HTML injection
8. test_placeholder_consistency — same {placeholders} in all translations
9. test_language_registry — languages.json parses, all listed languages have files
10. test_cli_lang_flag — CLI accepts --lang without error

Create scripts/validate-i18n.js:
- Read en.json, check each locale for missing/extra keys
- Report completion percentage per locale
- Exit code 1 if any locale below 90%

### Prompt 15: I18N GitHub Actions Workflow

Create .github/workflows/i18n-check.yml:
- Trigger on push/PR to i18n/** and src/i18n/**
- Validate translations (run scripts/validate-i18n.js)
- Check for broken links in translated docs
- Run i18n tests (vitest)

Update CONTRIBUTING.md with translator contribution guide linking to i18n/README.md.

---

## Validation

After all 15 prompts are complete, verify:

```bash
# i18n infrastructure exists
ls -la i18n/
ls -la i18n/ja/ i18n/zh/ i18n/es/ i18n/ko/ i18n/pt-BR/
ls -la src/i18n/locales/

# All locale files parse as valid JSON
for f in src/i18n/locales/*.json; do
  python3 -c "import json; json.load(open('$f')); print(f'OK {\"$f\"} is valid JSON')"
done

# Key count matches across locales
EN_KEYS=$(python3 -c "import json; print(len(json.load(open('src/i18n/locales/en.json'))))")
for lang in ja zh es ko pt-BR; do
  LANG_KEYS=$(python3 -c "import json; print(len(json.load(open('src/i18n/locales/$lang.json'))))")
  echo "$lang: $LANG_KEYS/$EN_KEYS keys"
done

# i18n module loads
node -e "import { t, setLocale } from './src/i18n/index.js'; setLocale('ja'); console.log(t('cli.login.success', { username: 'test' }));"

# Japanese README exists and has content
wc -l i18n/ja/README.md

# Dashboard i18n loads
head -5 dashboard/js/i18n.js

# Validation script runs clean
node scripts/validate-i18n.js

# Tests pass
npx vitest run tests/i18n.test.js
```
