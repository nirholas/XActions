# Algorithm Internals & Architecture

## Algorithm Signals (by weight)

| Signal | Weight | Generated by |
|--------|--------|-------------|
| Extended dwell (>2 min on thread) | 11.0x | Scroll + read pause |
| Profile click | 4.0x | Influencer / own profile visits |
| Reply / comment | 1.0-27.0x | Comment on posts |
| Bookmark | ~1.0x | Bookmark quality content |
| Like | 0.5x | Like niche posts |
| Follow | High (graph) | Follow niche accounts |
| Search | High (intent) | Search niche keywords |

## Phase Model (fresh account → thought leader)

| Phase | Days | Focus |
|-------|------|-------|
| Seeding | 1-7 | Pure consumption. Search + scroll + like + follow. |
| Engagement | 8-30 | Replies, quote tweets, early engagement on viral posts. |
| Authority | 31-90 | Original threads, community building, Spaces. |
| Maintenance | 90+ | Consistency, content creation, community stewardship. |

## 24/7 Architecture

```
┌─────────────────────────────────────────────────┐
│              CLI: xactions persona run           │
├─────────────────────────────────────────────────┤
│  Persona Engine (personaEngine.js)              │
│  ├─ Niche presets (6 built-in + custom)         │
│  ├─ Activity patterns (sleep/wake schedules)    │
│  ├─ Engagement strategies (limits & ratios)     │
│  ├─ Session planner (shuffled activity queues)  │
│  └─ State persistence (~/.xactions/personas/)   │
├─────────────────────────────────────────────────┤
│  Algorithm Builder (algorithmBuilder.js)        │
│  ├─ Puppeteer + stealth (headless Chrome)       │
│  ├─ Human-like behavior simulation              │
│  │   ├─ Variable scroll speeds                  │
│  │   ├─ Reading pauses (2-8s)                   │
│  │   ├─ Mouse movement with jitter              │
│  │   ├─ Typing with per-char delay (30-100ms)   │
│  │   ├─ Coffee breaks (30s-2min)                │
│  │   └─ Session gaps (10-120min)                │
│  ├─ Activity executor                           │
│  │   ├─ search (top + latest tabs)              │
│  │   ├─ browse_home (For You timeline)          │
│  │   ├─ like (on-topic tweets)                  │
│  │   ├─ follow (from search & target accounts)  │
│  │   ├─ comment (LLM-generated in persona voice)│
│  │   ├─ create_post (LLM original content)      │
│  │   ├─ profile_visit (targets & discovered)    │
│  │   ├─ check_own_profile                       │
│  │   └─ check_notifications                     │
│  └─ Graceful shutdown (SIGINT/SIGTERM/abort)    │
├─────────────────────────────────────────────────┤
│  LLM Brain (OpenRouter)                         │
│  ├─ Comment generation (persona-voiced)         │
│  ├─ Post creation (niche-relevant)              │
│  ├─ Reply threading                             │
│  └─ Any model: Gemini, GPT-4o, Claude, Llama   │
└─────────────────────────────────────────────────┘
```

## Cost Estimate

| Component | Monthly Cost |
|-----------|-------------|
| VPS | $5-10 (any VPS with Chrome support) |
| LLM API | $3-10 (depends on model and volume) |
| **Total** | **~$8-20/month for 24/7 operation** |

## Research Papers

Full technical deep dives:
- `docs/research/algorithm-cultivation.md` — X's recommendation algorithm internals (SimClusters, TwHIN, scoring formula), signal taxonomy, human behavior simulation, detection avoidance
- `docs/research/llm-powered-thought-leader.md` — LLM-powered architecture design
