# XActions Configuration
# Copy this file to .env and fill in your values

# ═══════════════════════════════════════════════════════════════════════════════
# Server Configuration
# ═══════════════════════════════════════════════════════════════════════════════

NODE_ENV=development
PORT=3001
API_URL=http://localhost:3001
API_BASE_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000

# ═══════════════════════════════════════════════════════════════════════════════
# x402 Payment Configuration (AI Agent Monetization)
# ═══════════════════════════════════════════════════════════════════════════════

# ⚠️  REQUIRED for production - your wallet address to receive USDC payments
# This MUST be set to a valid Ethereum address (0x...) for x402 to work
# Server will fail to start in production if this is not configured
X402_PAY_TO_ADDRESS=0x40252CFDF8B20Ed757D61ff157719F33Ec332402

# Network: which blockchain to use for payments
#   eip155:8453  = Base mainnet (REAL money - use for production)
#   eip155:84532 = Base Sepolia testnet (TEST money - use for development)
# Defaults: testnet in development, mainnet in production
X402_NETWORK=eip155:84532

# Facilitator URL for payment verification and settlement
# Default works for most cases, only change if using custom facilitator
X402_FACILITATOR_URL=https://x402.org/facilitator

# Debug logging for x402 payments (optional)
X402_DEBUG=false

# Skip payment verification in development (NEVER use in production!)
# Uncomment ONLY for local testing without a wallet
# X402_SKIP_VERIFICATION=true

# ═══════════════════════════════════════════════════════════════════════════════
# Payment Webhook Notifications (Optional - for revenue tracking)
# ═══════════════════════════════════════════════════════════════════════════════

# Custom webhook URL - receives JSON POST for all payment events
# This is the recommended option - just point to your own endpoint
# Payload: { event, timestamp, data: { amount, operation, payer, network, txHash } }
X402_WEBHOOK_URL=https://your-server.com/webhooks/payments

# Webhook signature secret (optional but recommended for production)
# Signs payloads with HMAC-SHA256 for security
# Verify: X-Webhook-Signature header = HMAC-SHA256(timestamp.payload, secret)
# Generate with: openssl rand -hex 32
X402_WEBHOOK_SECRET=

# Optional: Discord/Slack webhooks (leave empty if not using)
# DISCORD_WEBHOOK_URL=
# SLACK_WEBHOOK_URL=

# ═══════════════════════════════════════════════════════════════════════════════
# MCP Server Configuration (for AI agents like Claude)
# ═══════════════════════════════════════════════════════════════════════════════

# MCP mode: local (free, uses Puppeteer) or remote (paid, uses x402 API)
XACTIONS_MODE=local

# API URL for remote mode
XACTIONS_API_URL=https://api.xactions.app

# Private key for x402 payments (remote mode only)
# ⚠️ NEVER commit this value! Use a separate wallet for payments.
# X402_PRIVATE_KEY=0xYourPrivateKey

# X/Twitter session cookie for authentication
XACTIONS_SESSION_COOKIE=

# ═══════════════════════════════════════════════════════════════════════════════
# Database (PostgreSQL)
# ═══════════════════════════════════════════════════════════════════════════════

DATABASE_URL="postgresql://user:password@localhost:5432/xactions?schema=public"

# ═══════════════════════════════════════════════════════════════════════════════
# Authentication & Security
# ═══════════════════════════════════════════════════════════════════════════════

JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
SESSION_SECRET=your-session-secret-key

# Admin API key for accessing admin endpoints (payment stats, webhook management)
# Generate a secure random string: openssl rand -hex 32
ADMIN_API_KEY=

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://xactions.app

# ═══════════════════════════════════════════════════════════════════════════════
# Twitter/X OAuth 2.0
# ═══════════════════════════════════════════════════════════════════════════════

TWITTER_CLIENT_ID=your_twitter_client_id
TWITTER_CLIENT_SECRET=your_twitter_client_secret

# ═══════════════════════════════════════════════════════════════════════════════
# Redis (for job queue)
# ═══════════════════════════════════════════════════════════════════════════════

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ═══════════════════════════════════════════════════════════════════════════════
# Puppeteer Configuration (for local mode)
# ═══════════════════════════════════════════════════════════════════════════════

PUPPETEER_HEADLESS=true
PUPPETEER_NO_SANDBOX=true
# PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# ═══════════════════════════════════════════════════════════════════════════════
# Logging & Monitoring
# ═══════════════════════════════════════════════════════════════════════════════

LOG_LEVEL=info
# SENTRY_DSN=https://xxx@sentry.io/xxx

